- type: entity
  parent: WindowDirectional
  id: MCWindowDirectional
  name: window
  description: A glass window. It looks thin and flimsy. A few knocks with anything should shatter it.
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: _MC/Structures/Walls/directed_windows.rsi
    state: base
  - type: Icon
    sprite: _MC/Structures/Walls/directed_windows.rsi
    state: base
  - type: Transform
    anchored: true
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.49,-0.49,0.49,-0.38"
        density: 1500
        mask:
        - FullTileMask
        layer:
        - GlassLayer
  - type: RotationDrawDepth
    southDrawDepth: OverMobs
  - type: DamageMultiplierFlags
    flags: Breaching
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 150 #Excess damage check.
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
      - !type:PlaySoundBehavior
        sound:
          collection: WindowShatter
    - trigger:
        !type:DamageTrigger
        damage: 25 #TODO RMC14: Proper damage values.
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: WindowShatter
      - !type:SpawnEntitiesBehavior
        spawn:
          CMShardGlass:
            min: 1
            max: 1
      - !type:DoActsBehavior
        acts: [ "Destruction" ]

- type: entity
  parent: MCWindowDirectional
  id: MCWindowDirectionalReinforced
  name: reinforced window
  description: A glass window with a rod matrice. It looks rather strong. Might take a few good hits to shatter it.
  components:
  - type: Sprite
    state: reinforced
  - type: Icon
    state: reinforced

- type: entity
  parent: MCWindowDirectional
  id: MCWindowDirectionalPhoron
  name: phoron window
  description: A glass window with a rod matrice. It looks rather strong. Might take a few good hits to shatter it.
  components:
  - type: Sprite
    state: phoron
  - type: Icon
    state: phoron
